<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITIL Foundations Exam Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .quiz-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #572a72;
            text-align: center;
        }
        .domain-indicator {
            color: #8e44ad;
            font-size: 0.9em;
            margin-bottom: 10px;
            font-style: italic;
        }
        .question {
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
        }
        .options {
            margin-left: 20px;
        }
        .option {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .option:hover {
            background-color: #f9f9f9;
        }
        .option.selected {
            background-color: #e6f7ff;
            border-color: #1890ff;
        }
        .option.correct {
            background-color: #f6ffed;
            border-color: #52c41a;
        }
        .option.incorrect {
            background-color: #fff1f0;
            border-color: #ff4d4f;
        }
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: #fafafa;
            border-radius: 4px;
            display: none;
        }
        .results {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
        }
        .submit-btn, .restart-btn {
            background-color: #8e44ad;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            font-size: 16px;
        }
        .submit-btn:hover, .restart-btn:hover {
            background-color: #7d3c98;
        }
        .progress-container {
            margin-bottom: 20px;
            text-align: center;
        }
        .progress-bar {
            background-color: #f0f0f0;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress {
            background-color: #8e44ad;
            height: 100%;
            width: 0;
            transition: width 0.3s;
        }
        .progress-text {
            margin-top: 5px;
            font-size: 14px;
        }
        .domain-summary {
            margin-top: 20px;
            padding: 15px;
            background-color: #fafafa;
            border-radius: 4px;
        }
        .domain-performance {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>ITIL Foundations Exam Quiz</h1>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="progress-text">Question <span id="current-question">1</span> of <span id="total-questions">5</span></div>
        </div>
        <div id="quiz"></div>
        <div class="results" id="results" style="display: none;">
            <h2>Quiz Results</h2>
            <p>You scored <span id="score">0</span> out of <span id="total">5</span></p>
            <div class="domain-summary" id="domain-summary"></div>
        </div>
        <button class="submit-btn" id="submit">Submit Answer</button>
        <button class="restart-btn" id="restart" style="display: none;">Restart Quiz</button>
    </div>

    <script>
        const quizData = [
            {
                question: "Which of the following BEST describes the purpose of the service desk practice?",
                options: [
                    "To design and develop new IT services",
                    "To capture demand for incident resolution and service requests",
                    "To identify the root causes of recurring technical issues",
                    "To ensure compliance with regulatory requirements"
                ],
                correctIndex: 1,
                explanation: "The purpose of the service desk practice is to capture demand for incident resolution and service requests. The service desk acts as the single point of contact for users to report issues, make service requests, and communicate with the IT organization. It plays a vital role in day-to-day service delivery by handling incidents and service requests, providing user support, and maintaining communication between users and the service provider.",
                domain: "Service Management Practices"
            },
            {
                question: "What are the FOUR dimensions of service management according to ITIL 4?",
                options: [
                    "People, processes, products, and partners",
                    "Organizations and people, information and technology, partners and suppliers, value streams and processes",
                    "Strategy, design, transition, and operation",
                    "Hardware, software, documentation, and personnel"
                ],
                correctIndex: 1,
                explanation: "The four dimensions of service management according to ITIL 4 are: Organizations and people, Information and technology, Partners and suppliers, and Value streams and processes. These dimensions represent different perspectives that should be considered when managing services. Together, they ensure a holistic approach to service management that addresses all relevant aspects of service delivery.",
                domain: "Key Concepts and Principles"
            },
            {
                question: "Which guiding principle emphasizes regular feedback to ensure actions remain aligned with objectives?",
                options: [
                    "Start where you are",
                    "Progress iteratively with feedback",
                    "Focus on value",
                    "Keep it simple and practical"
                ],
                correctIndex: 1,
                explanation: "The 'Progress iteratively with feedback' guiding principle emphasizes regular feedback to ensure actions remain aligned with objectives. This principle advocates for organizing work into smaller, manageable sections and seeking feedback to improve continually. Rather than attempting to do everything at once, it promotes incremental improvement with frequent validation, allowing for course correction and ensuring ongoing alignment with objectives.",
                domain: "Guiding Principles"
            },
            {
                question: "What is the purpose of the 'improve' value chain activity?",
                options: [
                    "To ensure services meet defined requirements",
                    "To ensure continual improvement of products, services, and practices",
                    "To design new services for customers",
                    "To ensure good relationships with stakeholders"
                ],
                correctIndex: 1,
                explanation: "The purpose of the 'improve' value chain activity is to ensure continual improvement of products, services, and practices. This activity focuses on improving all aspects of the service value system and the services it enables. It works across all other value chain activities to identify opportunities for improvement and implement changes that enhance performance and value creation.",
                domain: "Service Value System"
            },
            {
                question: "Which statement BEST describes the relationship between incidents and problems in ITIL 4?",
                options: [
                    "Incidents always cause problems, which lead to changes",
                    "Problems are always escalated incidents that need additional investigation",
                    "A problem is the cause of one or more incidents",
                    "Incidents and problems are different terms for the same concept"
                ],
                correctIndex: 2,
                explanation: "The statement that best describes the relationship between incidents and problems is that a problem is the cause of one or more incidents. Incident management focuses on restoring normal service operation as quickly as possible, often through workarounds. Problem management identifies and manages the underlying causes of incidents (problems) to prevent recurrence and minimize impact. A single problem may cause multiple related incidents.",
                domain: "Service Management Practices"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let domainScores = {};
        const quiz = document.getElementById('quiz');
        const submitBtn = document.getElementById('submit');
        const restartBtn = document.getElementById('restart');
        const resultsElement = document.getElementById('results');
        const scoreElement = document.getElementById('score');
        const progressElement = document.getElementById('progress');
        const currentQuestionElement = document.getElementById('current-question');
        const domainSummaryElement = document.getElementById('domain-summary');
        
        // Initialize domain scores
        function initDomainScores() {
            domainScores = {};
            quizData.forEach(question => {
                if (!domainScores[question.domain]) {
                    domainScores[question.domain] = {
                        correct: 0,
                        total: 0
                    };
                }
            });
        }
        
        function loadQuestion() {
            answered = false;
            const questionData = quizData[currentQuestion];
            
            const questionElement = document.createElement('div');
            questionElement.className = 'question';
            questionElement.id = `question-${currentQuestion}`;
            
            const domainIndicator = document.createElement('div');
            domainIndicator.className = 'domain-indicator';
            domainIndicator.textContent = `Domain: ${questionData.domain}`;
            
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = `${currentQuestion + 1}. ${questionData.question}`;
            
            const options = document.createElement('div');
            options.className = 'options';
            
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.setAttribute('data-index', index);
                optionElement.addEventListener('click', selectOption);
                options.appendChild(optionElement);
            });
            
            const explanation = document.createElement('div');
            explanation.className = 'explanation';
            explanation.textContent = questionData.explanation;
            
            questionElement.appendChild(domainIndicator);
            questionElement.appendChild(questionText);
            questionElement.appendChild(options);
            questionElement.appendChild(explanation);
            
            quiz.innerHTML = '';
            quiz.appendChild(questionElement);
            
            updateProgress();
        }
        
        function selectOption(e) {
            if (answered) return;
            
            const selectedOption = e.target;
            const optionsContainer = document.querySelector('.options');
            const options = optionsContainer.querySelectorAll('.option');
            
            options.forEach(option => {
                option.classList.remove('selected');
            });
            
            selectedOption.classList.add('selected');
        }
        
        function checkAnswer() {
            if (answered) return;
            
            const selectedOption = document.querySelector('.option.selected');
            if (!selectedOption) {
                alert('Please select an answer');
                return;
            }
            
            answered = true;
            
            const selectedIndex = parseInt(selectedOption.getAttribute('data-index'));
            const correctIndex = quizData[currentQuestion].correctIndex;
            const currentDomain = quizData[currentQuestion].domain;
            
            // Update domain scores
            domainScores[currentDomain].total++;
            
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (index === correctIndex) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && selectedIndex !== correctIndex) {
                    option.classList.add('incorrect');
                }
            });
            
            if (selectedIndex === correctIndex) {
                score++;
                domainScores[currentDomain].correct++;
            }
            
            document.querySelector('.explanation').style.display = 'block';
            
            if (currentQuestion < quizData.length - 1) {
                submitBtn.textContent = 'Next Question';
            } else {
                submitBtn.textContent = 'See Results';
            }
        }
        
        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
                submitBtn.textContent = 'Submit Answer';
            } else {
                showResults();
            }
        }
        
        function showResults() {
            quiz.style.display = 'none';
            resultsElement.style.display = 'block';
            scoreElement.textContent = score;
            document.getElementById('total').textContent = quizData.length;
            submitBtn.style.display = 'none';
            restartBtn.style.display = 'block';
            document.querySelector('.progress-container').style.display = 'none';
            
            // Generate domain summary
            domainSummaryElement.innerHTML = '<h3>Performance by Domain</h3>';
            
            for (const domain in domainScores) {
                const domainData = domainScores[domain];
                const percentage = domainData.total > 0 ? Math.round((domainData.correct / domainData.total) * 100) : 0;
                
                const domainElement = document.createElement('div');
                domainElement.className = 'domain-performance';
                domainElement.innerHTML = `<strong>${domain}:</strong> ${domainData.correct}/${domainData.total} (${percentage}%)`;
                
                domainSummaryElement.appendChild(domainElement);
            }
        }
        
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            answered = false;
            initDomainScores();
            quiz.style.display = 'block';
            resultsElement.style.display = 'none';
            submitBtn.style.display = 'block';
            restartBtn.style.display = 'none';
            submitBtn.textContent = 'Submit Answer';
            document.querySelector('.progress-container').style.display = 'block';
            loadQuestion();
        }
        
        function updateProgress() {
            const progressPercentage = ((currentQuestion + 1) / quizData.length) * 100;
            progressElement.style.width = `${progressPercentage}%`;
            currentQuestionElement.textContent = currentQuestion + 1;
        }
        
        submitBtn.addEventListener('click', () => {
            if (!answered) {
                checkAnswer();
            } else {
                nextQuestion();
            }
        });
        
        restartBtn.addEventListener('click', restartQuiz);
        
        // Initialize the quiz
        initDomainScores();
        loadQuestion();
    </script>
</body>
</html>